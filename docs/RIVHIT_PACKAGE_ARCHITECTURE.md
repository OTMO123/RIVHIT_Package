# RIVHIT Package - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä –°–∏—Å—Ç–µ–º—ã

RIVHIT Package - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø–∞–∫–æ–≤–∫–∏ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤ RIVHIT, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–∞–∫ **–º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Lerna** –∏ —Å–ª–µ–¥—É—é—â–∞—è –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **SOLID**, **–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ **TDD –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏**.

### –û—Å–Ω–æ–≤–Ω–∞—è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ù–∞–∑–≤–∞–Ω–∏–µ**: BRAVO Packing System  
- **–í–µ—Ä—Å–∏—è**: 1.0.0
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Monorepo (Lerna)
- **–Ø–∑—ã–∫–∏**: TypeScript, JavaScript, HTML/CSS
- **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è**: TDD (Test-Driven Development)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**: 85%+ —Ç—Ä–µ–±—É–µ—Ç—Å—è

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### 1. üì¶ Packages (–û—Å–Ω–æ–≤–Ω—ã–µ –ú–æ–¥—É–ª–∏)

#### **@packing/backend** - API –°–µ—Ä–≤–µ—Ä
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Node.js 18+, Express.js, TypeScript, SQLite + TypeORM
- **–ü–æ—Ä—Ç**: 3001
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å RIVHIT, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏, –ø–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫

#### **@packing/frontend** - Electron –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Electron 37, React 18, Ant Design 5, Zustand
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–µ—Å–∫—Ç–æ–ø–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å GUI –¥–ª—è —É–ø–∞–∫–æ–≤—â–∏–∫–æ–≤

#### **@packing/shared** - –û–±—â–∏–µ –¢–∏–ø—ã –∏ –£—Ç–∏–ª–∏—Ç—ã
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: TypeScript, Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–∏–ø—ã, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, —É—Ç–∏–ª–∏—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ backend –∏ frontend

### 2. üåê Web Frontend (HTML/CSS/JS)
- **–§–∞–π–ª—ã**: *.html –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –ò–≤—Ä–∏—Ç RTL, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π

---

## Backend Architecture (@packing/backend)

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü–∞—Ç—Ç–µ—Ä–Ω—ã

#### **Factory Pattern**
```typescript
// ApplicationServiceFactory - —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
class ApplicationServiceFactory {
  static async createServices(): Promise<ApplicationServices>
}

// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏
class RivhitServiceFactory
class PrinterServiceFactory  
class CacheServiceFactory
```

#### **Dependency Injection & IoC Container**
```typescript
// Container –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
export class Container {
  static getInstance(): Container
  get<T>(key: string): T
}
```

#### **Repository Pattern**
```typescript
interface IOrderRepository
class MaxPerBoxRepository
```

### üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –°–µ—Ä–≤–∏—Å—ã

#### **RIVHIT Integration Services**
- **`SafeRivhitService`** - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç RIVHIT API —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **`RivhitService`** - –ë–∞–∑–æ–≤—ã–π RIVHIT API –∫–ª–∏–µ–Ω—Ç
- **`MockRivhitService`** - Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### **Printer Services** 
- **`ZPLPrinterService`** - ZPL –ø—Ä–∏–Ω—Ç–µ—Ä—ã (GoDEX)
- **`WinLabelPrinterService`** - WinLabel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Windows)
- **`BoxLabelService`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç—Ç–∏–∫–µ—Ç–æ–∫ –∫–æ—Ä–æ–±–æ–∫
- **`ImagePrintService`** - –ü–µ—á–∞—Ç—å —á–µ—Ä–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### **Cache Services**
- **`MemoryCacheService`** - In-memory –∫—ç—à
- **`RedisCacheService`** - Redis –∫—ç—à (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### **Business Logic Services**
- **`OrderStatusService`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–∫–∞–∑–æ–≤
- **`InvoiceCreatorService`** - –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤-—Ñ–∞–∫—Ç—É—Ä
- **`PrinterDiscoveryService`** - –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤

### üéØ Controllers (API Endpoints)

#### **Core Controllers**
- **`OrdersController`** - `/api/orders` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
- **`CustomersController`** - `/api/customers` - –î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
- **`ItemsController`** - `/api/items` - –¢–æ–≤–∞—Ä—ã
- **`PrintController`** - `/api/print` - –ü–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫
- **`AuthController`** - `/api/auth` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### **Utility Controllers**
- **`OrderStatusController`** - `/api/order-status` - –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
- **`InvoiceController`** - `/api/invoices` - –°—á–µ—Ç–∞-—Ñ–∞–∫—Ç—É—Ä—ã

### üóÇÔ∏è Data Layer

#### **Entities (TypeORM)**
- **`OrderStatus`** - –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
- **`OrderPackingDetails`** - –î–µ—Ç–∞–ª–∏ —É–ø–∞–∫–æ–≤–∫–∏
- **`OrderBoxes`** - –ö–æ—Ä–æ–±–∫–∏ –∑–∞–∫–∞–∑–æ–≤  
- **`MaxPerBoxSetting`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ max —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–æ–±–∫–µ

#### **Repositories**
- **`MaxPerBoxRepository`** - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–ø–∞–∫–æ–≤–∫–∏

### üîí Security & Middleware

#### **Security Services**
- **`SSLService`** - SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **`AuthMiddleware`** - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **`SecurityMiddleware`** - Helmet –∑–∞—â–∏—Ç–∞
- **`ValidationMiddleware`** - Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è

#### **Monitoring & Logging**
- **`ConsoleLoggerService`** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Winston)
- **Error Handling** - –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## Frontend Architecture (@packing/frontend)

### üñ•Ô∏è Electron Main Process

#### **Core Modules**
- **`main.ts`** - –ì–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å Electron
- **`backend-manager.ts`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ backend –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- **`setup-dialog.ts`** - –î–∏–∞–ª–æ–≥ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **`ipc-handlers.ts`** - IPC –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### ‚öõÔ∏è React Renderer Process

#### **State Management**
```typescript
// Zustand stores
store/orders.store.ts - –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
```

#### **Core Components**
- **`App.tsx`** - –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **`Layout/Layout.tsx`** - –û—Å–Ω–æ–≤–Ω–æ–π –º–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### **Business Components**
- **`PackingWorkflowModal`** - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —É–ø–∞–∫–æ–≤–∫–∏  
- **`AssemblyLineProgress`** - –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —É–ø–∞–∫–æ–≤–∫–∏
- **`InvoiceModal`** - –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤-—Ñ–∞–∫—Ç—É—Ä
- **`PrintActions`** - –î–µ–π—Å—Ç–≤–∏—è –ø–µ—á–∞—Ç–∏

#### **Settings & Configuration**
- **`SettingsModal`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **`PrinterSettings`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- **`MaxPerBoxSettings`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ max —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–æ–±–∫–µ
- **`PrinterDiscovery`** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤

#### **Utility Components**  
- **`LanguageSwitcher`** - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤
- **`RegionSelector`** - –í—ã–±–æ—Ä —Ä–µ–≥–∏–æ–Ω–∞
- **`ItemSelector`** - –°–µ–ª–µ–∫—Ç–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤
- **`BoxLabelPrint`** - –ü–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫ –∫–æ—Ä–æ–±–æ–∫

### üìÑ Pages (React Router)
- **`OrdersPage`** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
- **`PackingPage`** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø–∞–∫–æ–≤–∫–∏  
- **`PrintingPage`** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—á–∞—Ç–∏
- **`MainDashboard`** - –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
- **`PrinterTestPage`** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞

### üåç Internationalization  
```typescript
i18n/i18n.tsx - i18next –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
i18n/translations.ts - –ü–µ—Ä–µ–≤–æ–¥—ã (Hebrew RTL, English, Russian)
```

### üì° Services
- **`api.service.ts`** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è backend API
- **`ipc.service.ts`** - IPC –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å main –ø—Ä–æ—Ü–µ—Å—Å–æ–º  
- **`order-status.service.ts`** - –°–µ—Ä–≤–∏—Å —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤

---

## Shared Library (@packing/shared)

### üìã Type Definitions
```typescript
types/rivhit.types.ts - RIVHIT API —Ç–∏–ø—ã
types/order.types.ts - –¢–∏–ø—ã –∑–∞–∫–∞–∑–æ–≤
types/printer.types.ts - –¢–∏–ø—ã –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤  
types/api.types.ts - API —Ç–∏–ø—ã
types/config.types.ts - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∏–ø—ã
```

### ‚úÖ Validators (Zod)
```typescript
validators/order.validator.ts - –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
validators/printer.validator.ts - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
validators/config.validator.ts - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

### üõ†Ô∏è Utilities
```typescript
utils/hebrew.utils.ts - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∏–≤—Ä–∏—Ç–∞ RTL
utils/date.utils.ts - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –¥–∞—Ç
utils/string.utils.ts - –°—Ç—Ä–æ–∫–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
utils/mock-data.utils.ts - Mock –¥–∞–Ω–Ω—ã–µ
utils/rivhit-converter.utils.ts - –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã RIVHIT API
```

### üìä Constants
```typescript
constants/api.constants.ts - API –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
constants/app.constants.ts - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
constants/printer.constants.ts - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
```

---

## Web Frontend (HTML/CSS/JS)

### üåê HTML –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

#### **Production Interfaces**
- **`multilingual-orders-demo.html`** - –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- **`real-orders-demo.html`** - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø–∞–∫–æ–≤–∫–∏ —Å –ø–µ—á–∞—Ç—å—é
- **`full-orders-demo.html`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ —Å dual-tab –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

#### **Demo & Development**
- **`standalone-packing-demo.html`** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ø–∞–∫–æ–≤–∫–∏
- **`quick-start-guide.html`** - –õ–∞—É–Ω—á–µ—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
- **`cors-solution-demo.html`** - –†–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º CORS

#### **Testing & Debugging**  
- **`test-label.html`** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–∏–∫–µ—Ç–æ–∫
- **`printer-test-demo.html`** - –î–µ–º–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞

### üîß Web Server Support
- **`server.js`** - Express —Å–µ—Ä–≤–µ—Ä –¥–ª—è HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **CORS Proxy** - –ü—Ä–æ–∫—Å–∏ –¥–ª—è RIVHIT API —Å CORS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- **Token Management** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞–º–∏

---

## Integration Systems

### üîó RIVHIT API Integration

#### **API Client Features**
- **SafeRivhitService** - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π read-only –∫–ª–∏–µ–Ω—Ç
- **Circuit Breaker** - –ó–∞—â–∏—Ç–∞ API —Å retry –ª–æ–≥–∏–∫–æ–π
- **Caching System** - TTL –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (5 –º–∏–Ω—É—Ç)
- **Rate Limiting** - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (10/–º–∏–Ω—É—Ç—É)

#### **Document Type Mapping**
- **Type 1** - ◊ó◊©◊ë◊ï◊†◊ô◊™ ◊û◊° (Invoice)
- **Type 2** - ◊î◊¶◊¢◊™ ◊û◊ó◊ô◊® (Quote)  
- **Type 3** - ◊™◊¢◊ï◊ì◊™ ◊û◊©◊ú◊ï◊ó (Delivery Note)
- **Type 7** - ◊§◊®◊ò◊ô ◊î◊ñ◊û◊†◊î (Order Details) - **–í—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–≤–∞—Ä—ã**

### üñ®Ô∏è Printer System

#### **Supported Printers**
- **GoDEX ZX420i** - –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ç–µ—Ä (USB001)
- **Zebra ZPL** - ZPL —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø—Ä–∏–Ω—Ç–µ—Ä—ã
- **Windows Printers** - –ß–µ—Ä–µ–∑ WinLabel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

#### **Print Formats**
- **EZPL Templates** - GoDEX —Ñ–æ—Ä–º–∞—Ç (`printer-templates/*.ezpl`)
- **ZPL** - Zebra Printing Language  
- **Image-based** - PNG/JPEG —á–µ—Ä–µ–∑ Canvas

#### **Template System**
```bash
printer-templates/
‚îú‚îÄ‚îÄ universal.ezpl - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —ç—Ç–∏–∫–µ—Ç–∫–∞
‚îú‚îÄ‚îÄ box-label.ezpl - –≠—Ç–∏–∫–µ—Ç–∫–∞ –∫–æ—Ä–æ–±–∫–∏  
‚îú‚îÄ‚îÄ blini.ezpl - –ë–ª–∏–Ω—ã
‚îú‚îÄ‚îÄ pelmeni.ezpl - –ü–µ–ª—å–º–µ–Ω–∏
‚îú‚îÄ‚îÄ vareniki.ezpl - –í–∞—Ä–µ–Ω–∏–∫–∏
‚îî‚îÄ‚îÄ manty.ezpl - –ú–∞–Ω—Ç—ã
```

---

## Testing Architecture

### üß™ TDD Methodology

#### **Test Coverage Requirements**
- **Minimum**: 85% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- **Target**: >90% –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π

#### **Test Types**
- **Unit Tests** - `**/__tests__/**/*.test.ts`
- **Integration Tests** - `/tests/integration/**/*.test.ts`
- **E2E Tests** - Playwright –¥–ª—è frontend workflows

#### **Test Infrastructure**
```typescript
// Backend: Jest + ts-jest
jest.config.js - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
tests/setup.ts - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã

// Frontend: Jest + @testing-library/react  
tests/setup.ts - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ React —Ç–µ—Å—Ç–æ–≤
```

### üîç Testing Services
```typescript
ApplicationServiceFactory.createTestServices() - Mock —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
MockRivhitService - Mock RIVHIT API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

---

## Development Workflow

### üöÄ Scripts & Commands

#### **Development Commands**
```bash
npm run dev - –ó–∞–ø—É—Å–∫ backend + frontend
npm run dev:backend - –¢–æ–ª—å–∫–æ backend (port 3001)  
npm run dev:frontend - –¢–æ–ª—å–∫–æ Electron app

npx lerna run dev - Lerna –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ
npx lerna run build --scope=@packing/shared - –°–±–æ—Ä–∫–∞ shared –ø–∞–∫–µ—Ç–∞
```

#### **Testing Commands**  
```bash
npm run test:watch - TDD watch mode (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
npm run test:coverage - –û—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏
npm run test:e2e - End-to-end —Ç–µ—Å—Ç—ã (Playwright)
```

#### **Code Quality**
```bash
npm run lint - ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run format - Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
npm run type-check - TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run validate - –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–∏–ø—ã + lint + —Ç–µ—Å—Ç—ã)
```

### üîß Build & Package
```bash
npm run build - –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
npm run package - –°–æ–∑–¥–∞–Ω–∏–µ Electron installer
electron-builder --win - Windows installer
```

---

## Configuration Management

### üåç Environment Variables

#### **Backend Configuration (.env)**
```bash
# RIVHIT API
RIVHIT_API_TOKEN=582C90F9-4CBB-4945-8792-943B1FCD5756
RIVHIT_API_URL=https://api.rivhit.co.il/online/RivhitOnlineAPI.svc
RIVHIT_TIMEOUT=30000

# Development  
NODE_ENV=development
USE_MOCK_RIVHIT=false

# Printer
PRINTER_TEMPLATES_PATH=./printer-templates
USE_WINLABEL=false
```

#### **Root Configuration (.env.local)**
```bash  
# Web frontend
RIVHIT_API_TOKEN=582C90F9-4CBB-4945-8792-943B1FCD5756
RIVHIT_API_URL=https://api.rivhit.co.il/online/RivhitOnlineAPI.svc
```

### ‚öôÔ∏è Key Configuration Files
- **`lerna.json`** - –ú–æ–Ω–æ—Ä–µ–ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **`tsconfig.json`** - TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **`.gitignore`** - Git –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- **`package.json`** - NPM –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã

---

## Security Features

### üîê Authentication & Authorization
- **JWT Tokens** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ jsonwebtoken
- **BCrypt** - –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π  
- **Helmet** - HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Rate Limiting** - express-rate-limit

### üõ°Ô∏è API Security
- **Input Validation** - Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **CORS Protection** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –ø–æ–ª–∏—Ç–∏–∫
- **SSL/TLS** - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ `packages/backend/certs/`
- **Safe API Client** - –¢–æ–ª—å–∫–æ read-only –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## Performance & Scalability

### üìà Caching Strategy
- **Memory Cache** - –ë—ã—Å—Ç—Ä—ã–π in-memory –∫—ç—à (MemoryCacheService)
- **Redis Cache** - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π distributed –∫—ç—à (RedisCacheService)  
- **RIVHIT API Cache** - TTL 5 –º–∏–Ω—É—Ç –¥–ª—è API –æ—Ç–≤–µ—Ç–æ–≤
- **Failed Orders Cache** - 10 –º–∏–Ω—É—Ç –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

### ‚ö° Performance Features
- **Compression** - –°–∂–∞—Ç–∏–µ HTTP –æ—Ç–≤–µ—Ç–æ–≤
- **Connection Pooling** - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **Lazy Loading** - –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Adaptive Timeouts** - 5s quick timeout –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

---

## Deployment & Infrastructure

### üèóÔ∏è Platform Support
- **Windows 10+** - –û—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (–ø—Ä–∏–Ω—Ç–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Windows)
- **macOS** - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ø—Ä–∏–Ω—Ç–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è)
- **Linux** - CI/CD –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### üì¶ Distribution
- **Electron App** - `.exe` installer –¥–ª—è Windows  
- **Web Interface** - HTML —Ñ–∞–π–ª—ã –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **Monorepo** - Lerna —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### üöÄ Quick Start Options
```bash
# Option 1: PowerShell launcher (Windows)  
.\start-server.ps1

# Option 2: Manual web server
node server.js  

# Option 3: Direct HTML access
# –û—Ç–∫—Ä—ã—Ç—å .html —Ñ–∞–π–ª—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

---

## Integration Points

### üîó External Integrations
- **RIVHIT ERP** - REST API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–∫–∞–∑–æ–≤, –∫–ª–∏–µ–Ω—Ç–æ–≤, —Ç–æ–≤–∞—Ä–æ–≤
- **GoDEX Printers** - EZPL –ø—Ä–æ—Ç–æ–∫–æ–ª —á–µ—Ä–µ–∑ USB/Ethernet  
- **WinLabel** - WINCODE Technology –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Windows)
- **Windows Print System** - –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–∏–Ω—Ç–µ—Ä—ã Windows

### üì° Internal Communication  
- **IPC** - Electron main ‚Üî renderer –ø—Ä–æ—Ü–µ—Å—Å—ã
- **HTTP REST** - Frontend ‚Üî Backend API  
- **WebSocket** - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

## Known Issues & Limitations

### ‚ö†Ô∏è Platform Limitations
- **–ü—Ä–∏–Ω—Ç–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Windows 10+**
- macOS/Linux –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç warnings –¥–ª—è printer features
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ RIVHIT –∑–∞–∫–∞–∑—ã –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å timeout (–∫—ç—à–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ)

### üêõ Common Issues
- `lerna: command not found` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `npx lerna`
- `Cannot find module '@packing/shared'` ‚Üí —Å–Ω–∞—á–∞–ª–∞ —Å–æ–±—Ä–∞—Ç—å shared –ø–∞–∫–µ—Ç
- CORS –æ—à–∏–±–∫–∏ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cors-solution-demo.html`

---

## Development Team Notes

### üë• Team Workflow  
- **TDD First** - –°–Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç—ã, –ø–æ—Ç–æ–º –∫–æ–¥
- **85%+ Coverage** - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- **SOLID Principles** - –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –≤–æ –≤—Å–µ–º –∫–æ–¥–µ
- **Code Reviews** - Peer review —á–µ—Ä–µ–∑ Pull Requests

### üìù Documentation Standards
- **JSDoc** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –≤ –∫–æ–¥–µ  
- **README.md** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞
- **CLAUDE.md** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- **Changelog** - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## Future Roadmap

### üîÆ Planned Features
- [ ] **Real-time Updates** - WebSocket –¥–ª—è live —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] **Multi-printer Support** - –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ  
- [ ] **Advanced Analytics** - –î–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —É–ø–∞–∫–æ–≤–∫–∏
- [ ] **Mobile App** - React Native –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### üõ†Ô∏è Technical Debt
- [ ] **Migration to TypeScript 5** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ TypeScript
- [ ] **React 19 Upgrade** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ React –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] **Microservices Split** - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ backend –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- [ ] **Docker Containerization** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: {{ current_date }}*  
*–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã: 1.0.0*  
*–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞: AI Assistant*